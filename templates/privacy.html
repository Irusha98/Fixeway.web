<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - Fixway</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Ensure consistent footer styling */
        .footer {
            background-color: #000;
            color: #fff;
            padding: 30px 50px;
            text-align: center;
            position: relative;
            overflow: hidden;
            margin: 0; /* Remove negative margin as body padding is 0 */
            width: 100%;
        }
        /* Styling for the logo within the navbar */
        .navbar .logo {
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            /* Add cursor pointer to indicate it's clickable */
            cursor: pointer;
            text-decoration: none; /* FIX: Applied text-decoration here to remove underline */
        }

        .navbar {
            display: flex;
            justify-content: space-between; /* Pushes logo to left, button group to right */
            align-items: center;
            padding: 15px 50px;
            background-color: #000; /* Black background */
            border-bottom: 1px solid #eee;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin: 0 -20px;
            padding-left: calc(20px + 30px);
            padding-right: calc(20px + 30px);
        }
        /* Styling for the logo within the navbar */
        /* This rule is now redundant as it's covered by the direct .navbar .logo rule above */
        /* .navbar .logo {
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            cursor: pointer;
            text-decoration: none;
        } */

        /* New container for AI, About Us, and Login buttons */
        .navbar .right-nav-group {
            display: flex;
            align-items: center;
            gap: 20px; /* Space between AI, About Us, and Login buttons */
        }

        /* Styling for the new AI and About Us buttons/links */
        .navbar .right-nav-group a { /* Target links within the new group */
            background-color: #000;
            color: #fff;
            padding: 8px 15px;
            text-decoration: none;
            border: 1px solid transparent; /* Transparent border by default */
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            /* Only transition border-color and transform */
            transition: border-color 0.3s ease, transform 0.2s ease;
        }

        /* Hover effect for the new buttons: white border appears */
        .navbar .right-nav-group a:hover {
            border-color: #fff; /* White border on hover */
            /* Removed background-color change */
            transform: translateY(-2px); /* Slight lift effect */
        }

        /* Styling for the login button - MODIFIED to match other buttons */
        .navbar .login-button {
            background-color: #000;
            color: #fff;
            padding: 8px 20px;
            border: 1px solid transparent; /* Changed to transparent border by default */
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            /* Only transition border-color and transform */
            transition: border-color 0.3s ease, transform 0.2s ease;
        }
        /* Hover effect for the login button - MODIFIED to match other buttons */
        .navbar .login-button:hover {
            /* Removed background-color change */
            border-color: #fff; /* White border on hover */
            transform: translateY(-2px);
        }


        .footer p {
            margin: 0;
            font-size: 14px;
        }
        .footer .footer-links {
            margin-top: 15px;
        }
        .footer .footer-links a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            font-size: 14px;
            transition: color 0.3s ease;
        }
        .footer .footer-links a:hover {
            color: #e53935;
        }
        .sri-lankan-flag {
            position: absolute;
            bottom: 35px;
            right: 20px;
            width: 60px;
            height: 30px;
            border: 1px solid #ccc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 10;
            border-radius: 0px; /* Tailwind 'rounded-md' */
        }
        @media (max-width: 768px) {
            .footer {
                padding: 20px 20px;
            }
            .sri-lankan-flag {
                width: 50px;
                height: 25px;
                bottom: 8px;
                right: 8px;
            }
        }
        @media (max-width: 576px) {
            .footer {
                padding: 15px 15px;
            }
            .footer .footer-links a {
                display: block;
                margin: 5px 0;
            }
            .sri-lankan-flag {
                width: 40px;
                height: 20px;
                bottom: 5px;
                right: 5px;
            }
        }
    </style>
</head>
<body>

    <header class="navbar">
        <a href="{{ url_for('home') }}" class="logo">Fixway</a>
        <div class="right-nav-group">
            <a href="{{ url_for('ai_page') }}">AI</a>
            <a href="{{ url_for('about') }}">About Us</a>
            <button class="login-button" onclick="openModal()">Login</button>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8">
        <h1 class="text-4xl font-extrabold text-center mb-8">Privacy Policy</h1>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">1. Introduction</h2>
            <p class="mb-4">Welcome to Fixway. We are committed to protecting your privacy and handling your data in an open and transparent manner. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website fixway.com, including any other media form, media channel, mobile website, or mobile application related or connected thereto (collectively, the "Site"). Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the Site.</p>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">2. Information We Collect</h2>
            <p class="mb-2">We may collect information about you in a variety of ways. The information we may collect on the Site includes:</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">Personal Data</h3>
            <p class="mb-4">Personally identifiable information, such as your name, shipping address, email address, and telephone number, and demographic information, such as your age, gender, hometown, and interests, that you voluntarily give to us when you register with the Site or when you choose to participate in various activities related to the Site, such as online chat and message boards.</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">Derivative Data</h3>
            <p class="mb-4">Information our servers automatically collect when you access the Site, such as your IP address, your browser type, your operating system, your access times, and the pages you have viewed directly before and after accessing the Site.</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">Financial Data</h3>
            <p class="mb-4">Financial information, such as data related to your payment method (e.g., valid credit card number, card brand, expiration date) that we may collect when you purchase, order, return, exchange, or request information about our services from the Site.</p>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">3. How We Use Your Information</h2>
            <p class="mb-2">Having accurate information about you permits us to provide you with a smooth, efficient, and customized experience. Specifically, we may use information collected about you via the Site to:</p>
            <ul class="list-disc list-inside ml-4">
                <li>Create and manage your account.</li>
                <li>Email you regarding your account or order.</li>
                <li>Enable user-to-user communications.</li>
                <li>Fulfill and manage purchases, orders, payments, and other transactions related to the Site.</li>
                <li>Generate a personal profile about you to make your visit to the Site more personalized.</li>
                <li>Increase the efficiency and operation of the Site.</li>
                <li>Monitor and analyze usage and trends to improve your experience with the Site.</li>
                <li>Notify you of updates to the Site.</li>
                <li>Offer new products, services, mobile applications, and/or recommendations to you.</li>
                <li>Perform other business activities as needed.</li>
            </ul>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">4. Disclosure of Your Information</h2>
            <p class="mb-2">We may share information we have collected about you in certain situations. Your information may be disclosed as follows:</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">By Law or to Protect Rights</h3>
            <p class="mb-4">If we believe the release of information about you is necessary to respond to legal process, to investigate or remedy potential violations of our policies, or to protect the rights, property, or safety of others, we may share your information as permitted or required by any applicable law, rule, or regulation.</p>
            <h3 class="text-xl font-semibold mt-4 mb-2">Third-Party Service Providers</h3>
            <p class="mb-4">We may share your information with third parties that perform services for us or on our behalf, including payment processing, data analysis, email delivery, hosting services, customer service, and marketing assistance.</p>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">5. Data Protection and Security</h2>
            <p class="mb-4">Fixway is committed to protecting your data. We implement a variety of robust administrative, technical, and physical security measures designed to ensure the confidentiality, integrity, and availability of your personal information. These measures include, but are not limited to, data encryption, secure server infrastructure, access controls, and regular security audits. While we strive to use commercially acceptable means to protect your personal data, please be aware that despite our best efforts, no security measures are perfect or impenetrable, and no method of data transmission over the Internet or method of electronic storage can be guaranteed to be 100% secure. We continuously review and update our security practices to guard against unauthorized access, disclosure, alteration, or destruction of your data.</p>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">6. Policy for Children</h2>
            <p class="mb-4">We do not knowingly solicit information from or market to children under the age of 13. If you become aware of any data we have collected from children under age 13, please contact us using the contact information provided below.</p>
        </section>

        <section class="bg-white p-6 rounded-lg shadow-md mb-6">
            <h2 class="text-2xl font-bold mb-4">7. Contact Us</h2>
            <p class="mb-4">If you have questions or comments about this Privacy Policy, please contact us at:</p>
            <p class="font-bold">Fixway Support</p>
            <p>Email: support@fixway.com</p>
            <p>Address: [Your Company Address Here]</p>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2025 Fixway. All rights reserved.</p>
        <div class="footer-links">
            <a href="{{ url_for('privacy_policy') }}">Privacy Policy</a>
            <a href="#">Terms of Service</a>
            <a href="{{ url_for('contact_page') }}">Contact Us</a>
        </div>
        <img src="{{ url_for('static', filename='SriLanka.png') }}" alt="Flag of Sri Lanka" class="sri-lankan-flag" onerror="this.onerror=null;this.src='https://placehold.co/60x30/cccccc/000000?text=Flag'">
    </footer>

    <div id="loginModal" class="hidden fixed inset-0 z-[1001] w-full h-full overflow-auto bg-black bg-opacity-60 animate-fade-in flex items-center justify-center">
        <div class="bg-white p-8 rounded-xl shadow-2xl w-11/12 max-w-sm relative animate-fade-in flex flex-col gap-4">
            <span class="text-gray-400 absolute top-4 right-5 text-3xl font-bold cursor-pointer transition-colors duration-200 ease-in-out hover:text-gray-700" onclick="closeModal()">&times;</span>
            <h3 class="text-2xl text-gray-800 mb-5">Login to Fixway</h3>

            <button class="flex items-center justify-center gap-2.5 px-5 py-3 rounded-lg text-base cursor-pointer transition-all duration-300 ease-in-out border border-gray-300 text-gray-800 bg-red-600 text-white border-red-600 hover:bg-red-700 hover:shadow-md" id="googleLoginBtn">
                <i class="fab fa-google"></i> Continue with Google
            </button>
            <button class="flex items-center justify-center gap-2.5 px-5 py-3 rounded-lg text-base cursor-pointer transition-all duration-300 ease-in-out border border-gray-300 text-gray-800 bg-blue-700 text-white border-blue-700 hover:bg-blue-800 hover:shadow-md" id="facebookLoginBtn">
                <i class="fab fa-facebook-f"></i> Continue with Facebook
            </button>

            <div class="flex items-center text-center text-gray-500 my-5 before:content-[''] before:flex-1 before:border-b before:border-gray-300 after:content-[''] after:flex-1 after:border-b after:border-gray-300 before:mr-2 after:ml-2">OR</div>

            <input type="email" id="loginEmail" placeholder="Email address" class="w-full px-4 py-3 mb-4 border border-gray-300 rounded-lg box-border text-base">
            <input type="password" id="loginPassword" placeholder="Password" class="w-full px-4 py-3 mb-4 border border-gray-300 rounded-lg box-border text-base">

            <button type="submit" id="emailLoginBtn" class="bg-blue-600 text-white px-5 py-3 border-none rounded-lg text-lg cursor-pointer transition-colors duration-300 ease-in-out w-full hover:bg-blue-700">Log In</button>
            <div id="loginStatus" class="mt-4 text-sm text-gray-600"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import {
            getAuth,
            signInAnonymously,
            signInWithCustomToken,
            GoogleAuthProvider,
            FacebookAuthProvider,
            signInWithPopup,
            signInWithEmailAndPassword
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

        // Global variables provided by the Canvas environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Sign in using the provided token or anonymously
        async function authenticateFirebase() {
            try {
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                    console.log("Signed in with custom token.");
                } else {
                    await signInAnonymously(auth);
                    console.log("Signed in anonymously.");
                }
            } catch (error) {
                console.error("Firebase authentication error:", error);
            }
        }

        // Authenticate Firebase when the script loads
        authenticateFirebase();

        // Get modal elements
        const loginModal = document.getElementById('loginModal');
        const googleLoginBtn = document.getElementById('googleLoginBtn');
        const facebookLoginBtn = document.getElementById('facebookLoginBtn');
        const emailLoginBtn = document.getElementById('emailLoginBtn');
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const loginStatusDiv = document.getElementById('loginStatus');

        // Functions to open and close the modal (made globally accessible for onclick attributes)
        window.openModal = function() {
            loginModal.style.display = 'flex'; // Use flex to center
            loginStatusDiv.textContent = ''; // Clear previous messages
        }

        window.closeModal = function() {
            loginModal.style.display = 'none';
        }

        // Close modal if user clicks outside of it
        window.onclick = function(event) {
            if (event.target == loginModal) {
                closeModal();
            }
        }

        // Firebase Login Handlers
        googleLoginBtn.addEventListener('click', async () => {
            const provider = new GoogleAuthProvider();
            try {
                await signInWithPopup(auth, provider);
                loginStatusDiv.textContent = 'Logged in with Google successfully!';
                loginStatusDiv.className = 'success';
                setTimeout(closeModal, 1500);
            } catch (error) {
                console.error("Google login error:", error);
                loginStatusDiv.textContent = `Google login failed: ${error.message}`;
                loginStatusDiv.className = 'error';
            }
        });

        facebookLoginBtn.addEventListener('click', async () => {
            const provider = new FacebookAuthProvider();
            try {
                await signInWithPopup(auth, provider);
                loginStatusDiv.textContent = 'Logged in with Facebook successfully!';
                loginStatusDiv.className = 'success';
                setTimeout(closeModal, 1500);
            } catch (error) {
                console.error("Facebook login error:", error);
                loginStatusDiv.textContent = `Facebook login failed: ${error.message}`;
                loginStatusDiv.className = 'error';
            }
        });

        emailLoginBtn.addEventListener('click', async () => {
            const email = loginEmailInput.value;
            const password = loginPasswordInput.value;

            if (!email || !password) {
                loginStatusDiv.textContent = 'Please enter both email and password.';
                loginStatusDiv.className = 'error';
                return;
            }

            try {
                await signInWithEmailAndPassword(auth, email, password);
                loginStatusDiv.textContent = 'Logged in successfully!';
                loginStatusDiv.className = 'success';
                setTimeout(closeModal, 1500);
            } catch (error) {
                console.error("Email/Password login error:", error);
                loginStatusDiv.textContent = `Login failed: ${error.message}`;
                loginStatusDiv.className = 'error';
            }
        });
    </script>
</body>
</html>
